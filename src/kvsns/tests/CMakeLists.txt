cmake_minimum_required(VERSION 2.6.3)
cmake_policy(SET CMP0017 NEW)

set(MERO_CFLAGS "-D_REENTRANT -D_GNU_SOURCE -DM0_INTERNAL='' -DM0_EXTERN=extern ")
set(MERO_CFLAGS "${MERO_CFLAGS} -Wall -Werror -Wno-attributes -Wno-unused-but-set-variable ")
set(MERO_CFLAGS "${MERO_CFLAGS} -I/usr/include/mero ")

set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} ${MERO_CFLAGS}")
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${MERO_CFLAGS}")

add_executable(kvsns_test kvsns_test.c)
target_link_libraries(kvsns_test kvsns ${STORE_LIBRARY}
		      ${KVSAL_LIBRARY} )

add_executable(kvsns_file_test_unlink_on_close kvsns_file_test_unlink_on_close.c)
target_link_libraries(kvsns_file_test_unlink_on_close kvsns ${STORE_LIBRARY}
		      ${KVSAL_LIBRARY})

add_executable(kvsns_file_test_rw kvsns_file_test_rw.c)
target_link_libraries(kvsns_file_test_rw kvsns ${STORE_LIBRARY}
		      ${KVSAL_LIBRARY})

add_executable(kvsns_set_char kvsns_set_char.c)
target_link_libraries(kvsns_set_char kvsns ${STORE_LIBRARY}
		      ${KVSAL_LIBRARY})

add_executable(kvsns_get_char kvsns_get_char.c)
target_link_libraries(kvsns_get_char kvsns ${STORE_LIBRARY}
		      ${KVSAL_LIBRARY})

add_executable(kvsns_del_char kvsns_del_char.c)
target_link_libraries(kvsns_del_char kvsns ${STORE_LIBRARY}
		      ${KVSAL_LIBRARY})

add_executable(kvsns_get_list kvsns_get_list.c)
target_link_libraries(kvsns_get_list kvsns ${STORE_LIBRARY}
		      ${KVSAL_LIBRARY})


add_executable(kvsns_ino_incr kvsns_ino_incr.c)
target_link_libraries(kvsns_ino_incr kvsns ${STORE_LIBRARY}
		      ${KVSAL_LIBRARY})
